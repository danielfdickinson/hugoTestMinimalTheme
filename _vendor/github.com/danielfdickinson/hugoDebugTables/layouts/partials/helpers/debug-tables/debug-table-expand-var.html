{{- $curCtx := . -}}
{{- $value := .value -}}
{{- $key := .key -}}
{{- if $key -}}
    {{- if reflect.IsMap $value -}}
        <details>
            <summary>{{- $key }}: {{ len $value -}}</summary>
            <ul>
                {{- range $key2, $value2 := $value -}}
                    <li>{{- partial "helpers/debug-tables/debug-table-expand-var" (dict "key" $key2 "value" $value2) }}</li>
                {{- end -}}
            </ul>
            </details>
    {{- else if reflect.IsSlice $value -}}
        <details>
            <summary>{{- $key }}: {{ len $value -}}</summary>
                <ul>
                    {{- range $value -}}
                        <li>{{- partial "helpers/debug-tables/debug-table-expand-item" . -}}</li>
                    {{- end -}}
                </ul>
        </details>
    {{- else -}}
        {{ $key }}: {{ $value }}
    {{- end -}}
{{- else -}}
    {{- if reflect.IsSlice $value -}}
        {{- partial "helpers/debug-tables/debug-table-expand-item" $value -}}
    {{- else if reflect.IsMap $value -}}
        <details>
            <summary>{{- $key }}: {{ len $value -}}</summary>
                {{- partial "helpers/debug-tables/debug-table-expand-item" $value -}}
        </details>
    {{- else -}}
        {{- if $key -}}
            {{ $key }}: {{ $value }}
        {{- else -}}
            {{ $value }}
        {{- end -}}
    {{- end -}}
{{- end -}}