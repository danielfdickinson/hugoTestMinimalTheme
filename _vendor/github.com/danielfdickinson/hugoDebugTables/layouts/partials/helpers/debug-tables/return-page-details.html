{{ $curPage := .Page }}
{{ $basePage := .basePage }}
{{ $curSite := .Site }}
{{ $baseSite := .baseSite }}
{{ $expandPage := .expandPage }}
{{ if not $basePage }}
    {{ $basePage = $curPage }}
{{ end }}
{{ if not $baseSite }}
    {{ $baseSite = $curSite }}
{{ end }}
{{ with $curPage }}
    {{ if and (ne . $basePage) (eq $expandPage true) }}
        <details>
            <summary>{{ partial "helpers/debug-tables/return-page-title" . }}</summary>
            {{ partial "helpers/debug-tables/debug-page-table" (dict "Page" . "basePage" $basePage "Site" $curSite "baseSite" $baseSite "expandPage" $expandPage) }}
        </details>
    {{ else }}
        <div><span>{{if eq . $basePage }}*&nbsp;{{ end }}{{ partial "helpers/debug-tables/return-page-title" . }}</span></div>
    {{ end }}
{{ end }}